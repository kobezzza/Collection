/*! Collection v6.0.0-beta.7 | https://github.com/kobezzza/Collection/blob/master/LICENSE */
(function(){'use strict';function N(){function m(a,b){return Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function p(a){return a}function g(a,b){b=Array.from(arguments).slice(1);for(var e="",d=0;d<a.length;d++)e+=a[d].replace(ha," ")+(d in b?b[d]:"");return e}function r(a){return"function"===typeof a}function v(a){return Array.isArray(a)}function I(a){return"function"===typeof Map&&a instanceof Map}function O(a){return"function"===typeof WeakMap&&a instanceof WeakMap}function C(a){return"function"===
typeof Set&&a instanceof Set}function P(a){return"function"===typeof WeakSet&&a instanceof WeakSet}function Q(a){a=v(a)||a&&Boolean(a)&&R[typeof a]&&!ia.test({}.toString.call(a))&&(0<a.length&&0 in a||0===a.length);return Boolean(a)}function D(a,b){var e="object";if(!a)return e;if(ja&&"callee"in a&&"length"in a)return"array";switch(b){case "for":e="array";break;case "for of":e="iterator";break;case "for in":e="object";break;default:I(a)?e="map":O(a)?e="weakMap":C(a)?e="set":P(a)?e="weakSet":r(a)&&
"GeneratorFunction"===a.constructor.name?e="generator":Q(a)?e="array":Boolean(a&&("function"===typeof Symbol?a[Symbol.iterator]:"function"===typeof a["@@iterator"]))&&(e="iterator")}return e}function ba(a){if(!a)return!1;if(v(a))return!0;var b=a.constructor;return r(b)?!Boolean(a)||a.constructor!==Object&&"Object"!==a.constructor.name?ka[b.name]?!1:"[native code]"===b.toString():!0:!1}function t(a){this.data="string"===typeof a?a.split(""):a||[];this.b()}function k(a){return new t(a)}function ca(a){var b=
"",e;for(e in a)a.hasOwnProperty(e)&&(b+=a[e]);return b}function la(a,b){var e={map:!0,set:!0}[b.type],d=!("array"===b.type||b.reverse||"object"===b.type&&b.notOwn&&S),c=g(ma,b.startIndex,b.endIndex,b.from,b.count,b.live,b.reverse,b.notOwn,b.inverseFilter,b.type,b.thread,!b.thread,!b.thread,!b.thread,d,d);b.thread&&(c+=g(na));for(var f=b.startIndex||0,l=!1!==b.endIndex?b.endIndex+1:0,d=T.slice(0,b.length?b.c:T.length),u=[],h=0;h<b.filter.length;h++)u.push(da.slice(0,b.length?b.a[h]:da.length));var q=
b.length?Math.max.apply(null,[].concat(b.c,b.a)):T.length;b.from&&(c+="var from = "+b.from+";");var n="",h="";b.thread?(n=g(oa),h=g(pa)):c+="that._stack.push(ctx);";c+="while (limit !== looper) {";switch(b.type){case "array":c+=g(qa);b.reverse&&(c+="clone = arr.slice.call(clone).reverse();");!b.reverse&&b.live||!f&&!l||(c+=g(ra,f,l||"data.length"));!b.reverse&&b.live?(c+=g(sa,f-1),f&&(c+=g(U,f)),l&&(c+=g(V,l))):c+=g(ta,f);q&&(1<q&&(c=f?c+("key = "+(b.reverse?"dLength - (":"")+" n + "+(f+(b.reverse?
")":""))+";"):c+("key = "+(b.reverse?"dLength - ":"")+" n;")),c+="el = clone[n];");break;case "object":if(b.reverse||S&&!b.notOwn){c+="var tmpArray;";b.notOwn||!S||b.thread?(c+="tmpArray = [];",c=b.notOwn?-1===b.notOwn?c+g(ua,n,h):c+g(va,n,h):c+g(wa,n,h)):c+="tmpArray = Object.keys(data);";b.reverse&&(c+="tmpArray.reverse();");if(f||l)c+="tmpArray = tmpArray.slice("+f+", "+(l||"tmpArray.length")+");";c+=g(xa,f)}else c+="for (key in data) {",!1===b.notOwn?c+=g(ya):-1===b.notOwn&&(c+=g(za)),c+=g(Aa),
f&&(c+=g(U,f)),l&&(c+=g(V,l));q&&(c+="el = data[key];");break;case "map":case "set":case "generator":case "iterator":var w=function(){e?(c+="var cursor = data.keys();",b.live||b.reverse||(c+="var size = data.size;")):c="generator"===b.type?c+"var cursor = data();":c+g(Ba)};if(b.reverse){w();c+=g(Ca,n,h);if(f||l)c+="tmpArray = tmpArray.slice("+f+", "+(l||"tmpArray.length")+");";c+=g(Da,q?"key = tmpArray[n];":"",f)}else w(),c+=g(Ea,q?"key = key.value;":""),f&&(c+=g(U,f)),l&&(c+=g(V,l));q&&("map"===
b.type?c+="el = data.get(key);":(c+="el = key;",1<q&&(c="set"===b.type?c+"key = null;":b.reverse?c+"key = size - i - 1;":c+"key = i;")))}c+=n;b.count&&(c+=g(Fa,b.count));if(b.filter.length){c+="if (";for(f=0;f<b.filter.length;f++)c+="("+(b.inverseFilter?"!":"")+"(f = filters["+f+"]("+u[f]+")) || f === "+(b.inverseFilter?"FALSE":"TRUE")+")",f!==b.filter.length-1&&(c+="&&");c+=") {"}u=void 0;u=b.mult?"cb("+d+");":"cb("+d+"); breaker = true;";b.count&&(u+="j++;");c=b.from?c+g(Ga,u):c+u;b.filter.length&&
(c+="}");d=g(Ha);b.thread&&(c+=d);b.live||b.reverse||!e||(c+=g(Ia));c+=g(Ja,h);b.thread&&(c+=d);c+=g(Ka);J[a]=b.thread?eval(g(La,c)):Function("o","p",c);k.ready&&function(){var b='__COLLECTION_NAMESPACE__https_github_com_kobezzza_Collection.cache.cycle["'+a+'"] = '+J[a].toString()+";";K[a]=b;W&&ea?(clearTimeout(E),E=setTimeout(function(){try{if(localStorage.setItem("__COLLECTION_CACHE_VERSION__",JSON.stringify(K)),localStorage.setItem("__COLLECTION_CACHE__",17),Ma){var a=document.createElement("script");
a.src=URL.createObjectURL(new Blob([b],{type:"application/javascript"}));document.head.appendChild(a)}}catch(d){}},5E3)):B&&(clearTimeout(E),E=setTimeout(function(){require("fs").writeFile(require("path").join(__dirname,"collection.tmp.js"),"\nexports.version = 17;\nexports.cache = "+JSON.stringify(K)+";\nexports.exec = function () { "+ca(K)+" };\n",function(){})},5E3),E.unref())}();return J[a]}function F(a){this.link=v(a)?[a]:a}function z(a,b,e){e=e||{};b instanceof F&&(b=b.valueOf());for(var d=
"string"===typeof b?b.split("."):[].concat(b),c=d.length,f=c-1,l=void 0,u=void 0,h=-1;++h<c;){b=d[h];if(null==a){if(e.test)return!1;if(e.error)throw new ReferenceError(b+" is not defined!");return}var q=h===f&&e.test;q&&(l=a,u=b);var n=I(a)||O(a),w=C(a)||P(a);if(!q&&h===f&&(e.delete||void 0!==e.value))return d={key:w?null:b,result:n||w?a.has(b):b in a,value:n?a.get(b):w?b:a[b]},e.delete?d.result&&(n||w?(a.delete(b),d.result=!a.has(b)):(Q(a)&&!isNaN(Number(b))?[].splice.call(a,b,1):delete a[b],d.result=
!1===b in a||a[b]!==d.value)):n?a.get(b)!==e.value?(a.set(b,e.value),d.result=a.get(b)===e.value):d.result=!1:w?(n=a.has(b),d.result=!1,d.value=n?b:void 0,a.has(e.value)||(n&&a.delete(b),a.add(e.value),d.result=a.has(e.value))):(Q(a)&&!isNaN(Number(d.key))?d.key=Number(d.key):d.key=String(d.key),a[b]!==e.value?(a[b]=e.value,d.result=a[b]===e.value):d.result=!1),d;n?a=a.get(b):w?a.has(b)?a=b:a=void 0:(e.create&&void 0===a[b]&&(a[b]={}),a=a[b])}return e.test?I(l)||O(l)||C(l)||P(l)?l.has(u):u in l:a}
function Na(){function a(){var a=[];k(f).forEach(function(b,d){a.push({key:d,value:A[d]})},function(a){return a.length});a.sort(b);var q=a.length-1,n=0;k(a).forEach(function(b,d){var c=Oa[q];c[1]>n&&(n=c[1]);a[d].value=c;q--});var w=Math.floor(Math.random()*(n-0+1))+0;k(a).forEach(function(a){var b=a.key,h=a.value;a=d[b];if(w>=h[0]&&w<=h[1]){e[b]=e[b]||[];h=G[b];null==a[h]&&(G[b]=h=0,c[b]=0);var q=f[b][a[h]];q&&!q.pause&&(c[b]++,e[b].push(a[h]),l+=A[b]);a.splice(h,1);a.length||(delete f[b],u--);return!1}});
if(!u)return"break"}function b(a,b){return b.value-a.value}var e={},d={},c={},f=Object.assign({},H),l=0,u=0;for(k(f).forEach(function(a,b){d[b]=k(a).map(function(a,b){return b});c[b]=0;u++},function(a){return a.length});40>=l&&"break"!==a(););k(c).forEach(function(a,b){G[b]+=a});return e}var ha=/^\s+|[\r\n]+/mg,Pa=m(["\n(function () {\n'use strict';\nvar res = true;\ntry {\narguments.callee;\n} catch (ignore) {\nres = false;\n}\nreturn res;\n})();\n"],["\n(function () {\n'use strict';\nvar res = true;\ntry {\narguments.callee;\n} catch (ignore) {\nres = false;\n}\nreturn res;\n})();\n"]),
B;try{B="object"===typeof process&&"[object process]"==={}.toString.call(process)}catch(a){B=!1}var W=!B&&"object"===typeof window,Ma=W&&"function"===typeof Blob&&"function"===typeof URL,ea=!B&&"object"===typeof localStorage,S="[native code]"===(Object.keys&&Object.keys.toString());(function(){try{var a=new Map,b={};a.set(b,!0);return a.get(b)}catch(e){return!1}})();(function(){try{var a=new Set,b={};a.add(b);return a.has(b)}catch(e){return!1}})();var X;try{X=!1===Object.getOwnPropertyDescriptor(Object.create(null,
{f:{enumerable:!1}}),"foo").enumerable}catch(a){X=!1}var Y;try{Y="bar"===JSON.parse(JSON.stringify({f:"bar"})).f}catch(a){Y=!1}var ja=Boolean(eval(g(Pa))),R={object:!0,"function":!0},ia=/\[object Function]/,ka={Crypto:!0,Number:!0,String:!0,Boolean:!0,Symbol:!0,Function:!0,Date:!0,RegExp:!0,Blob:!0,Array:!0,ArrayBuffer:!0,Uint8ClampedArray:!0,Uint8Array:!0,Uint16Array:!0,Uint32Array:!0,Int8Array:!0,Int16Array:!0,Int32Array:!0,Map:!0,WeakMap:!0,Set:!0,WeakSet:!0,Error:!0,EvalError:!0,TypeError:!0,
SyntaxError:!0,URIError:!0,RangeError:!0,ReferenceError:!0};t.prototype.b=function(){var a=this.p;this.p=Object.assign({mult:!0,count:!1,from:!1,startIndex:!1,endIndex:!1,reverse:!1,inverseFilter:!1,notOwn:!1,live:!1,thread:!1,priority:"normal",length:!0,filter:[]},k.config);return a};Object.assign(k,{config:{}});t.prototype.VERSION=[6,0,0,"beta.7"];Object.assign(k,{ready:!1,cache:{str:{},cycle:{}}});var J=k.cache.cycle,Z=Function("return this")();Z.__COLLECTION_NAMESPACE__https_github_com_kobezzza_Collection=
k;var ma=m(["\nvar \nthat = this,\ndata = o.data,\ncb = o.cb,\nfilters = o.filters,\nlink = o.link,\nonIterationEnd = o.onIterationEnd,\nonComplete = o.onComplete;\nvar\nwait = 0,\nonGlobalComplete,\nonGlobalError;\nvar\ni = -1,\nj = 0,\nn = -1;\nvar\nresults = [],\nbreaker = false,\nyielder = false,\nyieldVal;\nvar\ntimeStart,\ntimeEnd,\ntime = 0;\nvar\nlimit = 1,\nlooper = 0;\nvar\nlength,\nf;\nvar\nTRUE = this.TRUE,\nFALSE = this.FALSE,\nNULL = this.NULL;\nvar\nel,\nkey;\nvar\narr = [],\n$ = {};\nvar info = {\nstartIndex: ",
",\nendIndex: ",",\nfrom: ",",\ncount: ",",\nlive: ",",\nreverse: ",",\nnotOwn: ",",\ninverseFilter: ",",\ntype: '","',\nthread: ","\n};\nvar ctx = {\n$: $,\ninfo: info,\nget result() {\nreturn p.result;\n},\nyield: function (opt_val) {\nif (",") {\nreturn false;\n}\nyielder = true;\nyieldVal = opt_val;\nreturn true;\n},\nget next() {\nif (",") {\nreturn false;\n}\nlink.self.next();\nreturn true;\n},\nsleep: function (time, opt_test, opt_interval) {\nif (",") {\nreturn false;\n}\nctx.yield();\nreturn new Promise(function (resolve, reject) {\nlink.self.sleep = setTimeout(function () {\nif (opt_test) {\ntry {\nvar test = opt_test(ctx);\nif (test) {\nresolve();\nlink.self.next();\n} else if (opt_interval !== false) {\nctx.sleep(time, opt_test, opt_interval).then(resolve, reject);\n}\n} catch (err) {\nreject(err);\nthrow err;\n}\n} else {\nresolve();\nlink.self.next();\n}\n}, time);\n});\n},\nwait: function (promise) {\nvar thread = promise.thread;\nif (!thread || !thread.thread) {\nresults.push(thread);\nif (!wait) {\nif (onGlobalComplete) {\nonGlobalComplete(results);\nonGlobalComplete = null;\n}\nresults = [];\n}\nreturn false;\n}\nctx.yield();\nwait++;\nvar onComplete = thread.onComplete;\nthread.onComplete = function (res) {\nif (wait) {\nwait--;\n}\nresults.push(res);\nthat._stack.push(ctx);\nif (onComplete) {\nonComplete(res);\n}\nif (!wait) {\nyielder = false;\nif (onGlobalComplete) {\nonGlobalComplete(results);\nonGlobalComplete = null;\n}\nresults = [];\nthat._stack.pop();\nif (!yielder) {\nctx.next;\n}\n} else {\nthat._stack.pop();\n}\n};\nreturn promise.catch(function (err) {\nif (onGlobalError) {\nonGlobalError(err);\nonGlobalError = null;\n}\n});\n},\nget complete() {\nreturn new Promise(function (resolve, reject) {\nif (!wait) {\nresolve(that, results);\nresults = [];\nreturn false;\n}\nonGlobalComplete = resolve;\nonGlobalError = reject;\n});\n},\njump: function (val) {\nif (",
") {\nreturn false;\n}\nvar diff = i - n;\nn = val - 1;\ni = n + diff;\nreturn i;\n},\ni: function (val) {\nif (val === undefined) {\nreturn i;\n}\nif (",") {\nreturn false;\n}\nn += val;\ni += val;\nreturn i;\n},\nget reset() {\nbreaker = true;\nlimit++;\nreturn true;\n},\nget break() {\nbreaker = true;\nreturn true;\n}\n};\nvar cbCtx = Object.create(ctx);\ncbCtx.length = o.cbLength;\nvar filterCtx = Object.create(ctx);\nfilterCtx.length = o.fLength;\n"],["\nvar \nthat = this,\ndata = o.data,\ncb = o.cb,\nfilters = o.filters,\nlink = o.link,\nonIterationEnd = o.onIterationEnd,\nonComplete = o.onComplete;\nvar\nwait = 0,\nonGlobalComplete,\nonGlobalError;\nvar\ni = -1,\nj = 0,\nn = -1;\nvar\nresults = [],\nbreaker = false,\nyielder = false,\nyieldVal;\nvar\ntimeStart,\ntimeEnd,\ntime = 0;\nvar\nlimit = 1,\nlooper = 0;\nvar\nlength,\nf;\nvar\nTRUE = this.TRUE,\nFALSE = this.FALSE,\nNULL = this.NULL;\nvar\nel,\nkey;\nvar\narr = [],\n$ = {};\nvar info = {\nstartIndex: ",
",\nendIndex: ",",\nfrom: ",",\ncount: ",",\nlive: ",",\nreverse: ",",\nnotOwn: ",",\ninverseFilter: ",",\ntype: '","',\nthread: ","\n};\nvar ctx = {\n$: $,\ninfo: info,\nget result() {\nreturn p.result;\n},\nyield: function (opt_val) {\nif (",") {\nreturn false;\n}\nyielder = true;\nyieldVal = opt_val;\nreturn true;\n},\nget next() {\nif (",") {\nreturn false;\n}\nlink.self.next();\nreturn true;\n},\nsleep: function (time, opt_test, opt_interval) {\nif (",") {\nreturn false;\n}\nctx.yield();\nreturn new Promise(function (resolve, reject) {\nlink.self.sleep = setTimeout(function () {\nif (opt_test) {\ntry {\nvar test = opt_test(ctx);\nif (test) {\nresolve();\nlink.self.next();\n} else if (opt_interval !== false) {\nctx.sleep(time, opt_test, opt_interval).then(resolve, reject);\n}\n} catch (err) {\nreject(err);\nthrow err;\n}\n} else {\nresolve();\nlink.self.next();\n}\n}, time);\n});\n},\nwait: function (promise) {\nvar thread = promise.thread;\nif (!thread || !thread.thread) {\nresults.push(thread);\nif (!wait) {\nif (onGlobalComplete) {\nonGlobalComplete(results);\nonGlobalComplete = null;\n}\nresults = [];\n}\nreturn false;\n}\nctx.yield();\nwait++;\nvar onComplete = thread.onComplete;\nthread.onComplete = function (res) {\nif (wait) {\nwait--;\n}\nresults.push(res);\nthat._stack.push(ctx);\nif (onComplete) {\nonComplete(res);\n}\nif (!wait) {\nyielder = false;\nif (onGlobalComplete) {\nonGlobalComplete(results);\nonGlobalComplete = null;\n}\nresults = [];\nthat._stack.pop();\nif (!yielder) {\nctx.next;\n}\n} else {\nthat._stack.pop();\n}\n};\nreturn promise.catch(function (err) {\nif (onGlobalError) {\nonGlobalError(err);\nonGlobalError = null;\n}\n});\n},\nget complete() {\nreturn new Promise(function (resolve, reject) {\nif (!wait) {\nresolve(that, results);\nresults = [];\nreturn false;\n}\nonGlobalComplete = resolve;\nonGlobalError = reject;\n});\n},\njump: function (val) {\nif (",
") {\nreturn false;\n}\nvar diff = i - n;\nn = val - 1;\ni = n + diff;\nreturn i;\n},\ni: function (val) {\nif (val === undefined) {\nreturn i;\n}\nif (",") {\nreturn false;\n}\nn += val;\ni += val;\nreturn i;\n},\nget reset() {\nbreaker = true;\nlimit++;\nreturn true;\n},\nget break() {\nbreaker = true;\nreturn true;\n}\n};\nvar cbCtx = Object.create(ctx);\ncbCtx.length = o.cbLength;\nvar filterCtx = Object.create(ctx);\nfilterCtx.length = o.fLength;\n"]),na=m(["\nctx.thread = link.self;\nlink.self.ctx = ctx;\n"],
["\nctx.thread = link.self;\nlink.self.ctx = ctx;\n"]),oa=m(["\nif (timeStart == null) {\nthat._stack.push(ctx);\ntimeStart = new Date().valueOf();\n}\n"],["\nif (timeStart == null) {\nthat._stack.push(ctx);\ntimeStart = new Date().valueOf();\n}\n"]),pa=m(["\ntimeEnd = new Date().valueOf();\ntime += timeEnd - timeStart;\ntimeStart = timeEnd;\nif (time > this._priority[link.self.priority]) {\nthat._stack.pop();\nyield n;\ntime = 0;\ntimeStart = null;\n}\n"],["\ntimeEnd = new Date().valueOf();\ntime += timeEnd - timeStart;\ntimeStart = timeEnd;\nif (time > this._priority[link.self.priority]) {\nthat._stack.pop();\nyield n;\ntime = 0;\ntimeStart = null;\n}\n"]),
qa=m(["\nvar\nclone = data,\ndLength = data.length - 1;\n"],["\nvar\nclone = data,\ndLength = data.length - 1;\n"]),ra=m(["\nclone = arr.slice.call(clone, ",", ",");\n"],["\nclone = arr.slice.call(clone, ",", ",");\n"]),sa=m(["\nfor (n = ","; ++n < clone.length;) {\ni = n;\n"],["\nfor (n = ","; ++n < clone.length;) {\ni = n;\n"]),U=m(["\nif (n < ",") {\ncontinue;\n}\n"],["\nif (n < ",") {\ncontinue;\n}\n"]),V=m(["\nif (n > ",") {\nbreak;\n};\n"],["\nif (n > ",") {\nbreak;\n};\n"]),ta=m(["\nlength = clone.length;\nfor (n = -1; ++n < length;) {\ni = n + ",
";\n"],["\nlength = clone.length;\nfor (n = -1; ++n < length;) {\ni = n + ",";\n"]),ua=m(["\nfor (var key in data) {\n","\nif (data.hasOwnProperty(key)) {\ncontinue;\n}\ntmpArray.push(key);\n","\n}\n"],["\nfor (var key in data) {\n","\nif (data.hasOwnProperty(key)) {\ncontinue;\n}\ntmpArray.push(key);\n","\n}\n"]),va=m(["\nfor (var key in data) {\n","\ntmpArray.push(key);\n","\n}\n"],["\nfor (var key in data) {\n","\ntmpArray.push(key);\n","\n}\n"]),wa=m(["\nfor (var key in data) {\n","\nif (!data.hasOwnProperty(key)) {\nbreak;\n}\ntmpArray.push(key);\n",
"\n}\n"],["\nfor (var key in data) {\n","\nif (!data.hasOwnProperty(key)) {\nbreak;\n}\ntmpArray.push(key);\n","\n}\n"]),xa=m(["\nlength = tmpArray.length;\nfor (n = -1; ++n < length;) {\nkey = tmpArray[n];\nif (key in data === false) {\ncontinue;\n}\ni = n + ",";\n"],["\nlength = tmpArray.length;\nfor (n = -1; ++n < length;) {\nkey = tmpArray[n];\nif (key in data === false) {\ncontinue;\n}\ni = n + ",";\n"]),ya=m(["\nif (!data.hasOwnProperty(key)) {\nbreak;\n}"],["\nif (!data.hasOwnProperty(key)) {\nbreak;\n}"]),
za=m(["\nif (!data.hasOwnProperty(key)) {\ncontinue;\n}"],["\nif (!data.hasOwnProperty(key)) {\ncontinue;\n}"]),Aa=m(["\nn++;\ni = n;\n"],["\nn++;\ni = n;\n"]),Ba=m(["\nvar\niteratorKey = typeof Symbol !== 'undefined' && Symbol.iterator,\ncursor;\nif ('next' in data) {\ncursor = data;\n} else {\ncursor = (iteratorKey ? data[iteratorKey]() : data['@@iterator'] && data['@@iterator']()) || data;\n}\n"],["\nvar\niteratorKey = typeof Symbol !== 'undefined' && Symbol.iterator,\ncursor;\nif ('next' in data) {\ncursor = data;\n} else {\ncursor = (iteratorKey ? data[iteratorKey]() : data['@@iterator'] && data['@@iterator']()) || data;\n}\n"]),
Ca=m(["\nvar tmpArray = [];\nfor (var step = cursor.next(); !step.done; step = cursor.next()) {\n","\ntmpArray.push(step.value);\n","\n}\ntmpArray.reverse();\nvar size = tmpArray.length;\n"],["\nvar tmpArray = [];\nfor (var step = cursor.next(); !step.done; step = cursor.next()) {\n","\ntmpArray.push(step.value);\n","\n}\ntmpArray.reverse();\nvar size = tmpArray.length;\n"]),Da=m(["\nlength = tmpArray.length;\nfor (n = -1; ++n < length;) {\n","\ni = n + ",";\n"],["\nlength = tmpArray.length;\nfor (n = -1; ++n < length;) {\n",
"\ni = n + ",";\n"]),Ea=m(["\nfor (key = cursor.next(); !key.done; key = cursor.next()) {\n","\nn++;\ni = n;\n"],["\nfor (key = cursor.next(); !key.done; key = cursor.next()) {\n","\nn++;\ni = n;\n"]),Fa=m(["\nif (j === ",") {\nbreak;\n}\n"],["\nif (j === ",") {\nbreak;\n}\n"]),Ga=m(["\nif (from !== 0) {\nfrom--;\n} else {\n","\n}\n"],["\nif (from !== 0) {\nfrom--;\n} else {\n","\n}\n"]),Ha=m(["\nif (yielder) {\nthat._stack.pop();\nyielder = false;\nif (link.self) {\nlink.self.pause = true;\n} else {\nlink.pause = true;\n}\nyield yieldVal;\nlink.self.pause = false;\ndelete link.pause;\nyieldVal = void 0;\nthat._stack.push(ctx);\n}\n"],
["\nif (yielder) {\nthat._stack.pop();\nyielder = false;\nif (link.self) {\nlink.self.pause = true;\n} else {\nlink.pause = true;\n}\nyield yieldVal;\nlink.self.pause = false;\ndelete link.pause;\nyieldVal = void 0;\nthat._stack.push(ctx);\n}\n"]),Ia=m(["\nsize--;\nif (!size) {\nbreak;\n}\n"],["\nsize--;\nif (!size) {\nbreak;\n}\n"]),Ja=m(["\nif (breaker) {\nbreak;\n}\n","\n}\nbreaker = false;\nlooper++;\nif (onIterationEnd) {\nonIterationEnd(ctx);\n}\n"],["\nif (breaker) {\nbreak;\n}\n","\n}\nbreaker = false;\nlooper++;\nif (onIterationEnd) {\nonIterationEnd(ctx);\n}\n"]),
Ka=m(["\n}\nthat._stack.pop();\nif (onComplete) {\nonComplete(p.result);\n}\nreturn p.result;\n"],["\n}\nthat._stack.pop();\nif (onComplete) {\nonComplete(p.result);\n}\nreturn p.result;\n"]),La=m(["(function *(o, p) { "," })"],["(function *(o, p) { "," })"]),E=void 0,K=k.cache.str,T=["el","key","data","cbCtx"],da=["el","key","data","filterCtx"];if(!1!==Z.COLLECTION_LOCAL_CACHE)if(W&&Y&&ea)try{if("loading"===document.readyState){var Qa=localStorage.getItem("__COLLECTION_CACHE__"),fa=localStorage.getItem("__COLLECTION_CACHE_VERSION__");
fa&&17==Qa?(k.cache.str=JSON.parse(fa),document.write('<script type="text/javascript">'+ca(k.cache.str)+"__COLLECTION_NAMESPACE__https_github_com_kobezzza_Collection.ready = true;\x3c/script>")):(localStorage.removeItem("__COLLECTION_CACHE_VERSION__"),localStorage.removeItem("__COLLECTION_CACHE__"),k.ready=!0)}}catch(a){}else if(B)try{var aa=require(require("path").join(__dirname,"collection.tmp.js"));17===aa.version&&(aa.exec(),k.cache.str=aa.cache)}catch(a){}finally{k.ready=!0}var A={low:5,normal:10,
hight:20,critical:40};t.prototype.length=function(a,b){function e(){return d.result++}var d=b||{};v(a)||r(a)||(d=a||d,a=null);this.filter(d&&d.filter,a);d=p(Object.assign(Object.create(this.p),d,{result:0}));e.__COLLECTION_TMP__lengthQuery=!0;var c=p(this.forEach(e,d));!0!==e.__COLLECTION_TMP__lengthQuery&&(d.result=e.__COLLECTION_TMP__lengthQuery,d.onComplete&&d.onComplete(d.result));return c!==this?c:d.result};var ga=t.prototype._stack=[];t.prototype.forEach=function(a,b){var e=this,d=p(Object.create(this.b()));
v(b)||r(b)?d.filter=d.filter.concat(b):(b&&b.filter&&(b.filter=d.filter.concat(b.filter)),Object.assign(d,b));d.notOwn&&(d.use="for in");if(d.hasOwnProperty("priority")||d.onChunk)d.thread=!0;A[d.priority]||(A[d.priority]="normal");var c=this.data,f=d.type=D(c,d.use),l=d.filter;if(!Boolean(c)||!R[typeof c]||{weakMap:!0,weakSet:!0}[f])throw new TypeError("Incorrect data type");if(!l.length&&a.__COLLECTION_TMP__lengthQuery){if("array"===f)return a.__COLLECTION_TMP__lengthQuery=(d.startIndex||!1!==d.endIndex?
[].slice.call(c,d.startIndex||0,!1!==d.endIndex?d.endIndex+1:c.length):c).length,this;if({map:!0,set:!0}[f]&&!d.startIndex&&!1===d.endIndex)return a.__COLLECTION_TMP__lengthQuery=c.size,this}var u=!1,h=!1;if(d.length){u=d.c=a.__COLLECTION_TMP__length||a.length;d.a=[];for(h=0;h<l.length;h++)d.a.push(l[h].__COLLECTION_TMP__length||l[h].length);h=d.a.length?d.a:!1}var q=void 0;u&&3<u&&function(){var a=p(Object.assign({},b,{onChunk:null,onIterationEnd:null,onComplete:function(a){q.value=a}}));q=function(b){if(!q.value||
b)q.value=e.length(l,a);return q.value}}();var n=void 0;h&&3<Math.max.apply(null,h)&&function(){var a=p(Object.assign({},b,{onChunk:null,onIterationEnd:null,onComplete:function(a){n.value=a}}));n=function(b){if(!n.value||b)n.value=e.length(null,a);return n.value}}();var f=[f,u,l.length,h,d.length,d.thread,d.notOwn,d.live,d.inverseFilter,d.reverse,d.mult,d.count,d.from,d.startIndex,d.endIndex].join(),w={},x=p(J[f]||la(f,d)),k={data:c,cb:a,cbLength:q,filters:l,fLength:n,link:w,onComplete:d.onComplete,
onIterationEnd:d.onIterationEnd};if(d.thread&&(c=function(){var c=void 0,f=new Promise(function(f,h){function q(a){return a?function(b,c,d,e){try{return a(b,c,d,e)}catch(f){throw h(f),f;}}:void 0}for(var n=0;n<l.length;n++)l[n]=q(l[n]);var u=d.onComplete;k.onComplete=d.onComplete=q(function(a){u&&u(a);f(a)});k.cb=q(a);k.onIterationEnd=q(d.onIterationEnd);c=w.self=x.call(e,k,b||d);w.pause&&(w.self.pause=!0);for(var n=ga.length,g=void 0,m=1;g=ga[n-m];){if(g.thread){g.thread.children.push(c);break}m++}e.g(c,
d.priority,d.onComplete,q(d.onChunk))});f.thread=c;return{h:f}}(),"object"===typeof c))return c.h;w.self=x.call(this,k,b||d);w.pause&&(w.self.pause=!0);return this};t.prototype.filter=function(a){for(var b=[],e=0;e<arguments.length;e++){var d=arguments[e];d&&(b=b.concat(d))}this.p.filter=this.p.filter.concat.apply(this.p.filter,b);return this};t.prototype.thread=function(a,b){r(a)&&(b=a,a=null);this.p.thread=!0;a&&(this.p.priority=a);b&&(this.p.onChunk=b);return this};t.prototype.start=function(a){this.p.startIndex=
a;return this};t.prototype.end=function(a){this.p.endIndex=a;return this};t.prototype.from=function(a){this.p.from=a;return this};t.prototype.count=function(a){this.p.count=a;return this};Object.defineProperties(t.prototype,{one:{get:function(){this.p.mult=!1;return this}},inverse:{get:function(){this.p.inverseFilter=!0;return this}},reverse:{get:function(){this.p.reverse=!0;return this}}});k.clone=function(a){return JSON.parse(JSON.stringify(a))};k.extend=function(a,b,e){var d=!1,c=!1,f=!1,l=!1,
u=void 0;a&&"boolean"!==typeof a?(f=a.withProto,c=a.withAccessors&&X,d=Boolean(a.concatArray),l=a.traits||!1,u=Boolean(a.deep)):u=a||!1;var h;h=Boolean(b)&&R[typeof b]?b:v(arguments[2])?[]:{};for(var q=arguments.length,n=1;++n<q;){var w=arguments[n];if(w)for(var x in w){if(c){var g=Object.getOwnPropertyDescriptor(w,x);if(g&&(g.set||g.get)){Object.defineProperty(h,x,{get:g.get,set:g.set});continue}}var g=h[x],m=w[x];if(h!==m&&m!==w){var p=void 0;if(u&&m&&"object"===typeof m&&((p=v(m))||ba(m))){var t=
g&&"object"===typeof g,r=t&&ba(g);f&&r&&!h.hasOwnProperty(x)&&(h[x]=v(h[x])?g=h[x].slice():g=Object.create(h[x]));var y=void 0;if(p)if(p=v(g),r=!1,y=void 0,!p&&f&&d&&(p=(y=t&&Object.getPrototypeOf(g))&&v(y)&&(r=!0)),p)if(d){h[x]=(r?y:g).concat(m);continue}else y=g;else y=[];else g&&r&&!v(g)?y=g:y={};h[x]=k.extend(a,y,m)}else void 0!==m&&(l?x in h===(-1===l)&&(h[x]=m):h[x]=m)}}}return h};Object.assign(k,{extend:k.extend,clone:k.clone});t.prototype.map=function(a,b){var e=b||{};r(a)||(e=a||e,a=function(a){return a});
if(v(e)||r(e))e={filter:e};this.filter(e&&e.filter);var e=p(Object.assign(Object.create(this.p),e)),d="object";!e.use&&!e.notOwn||e.initial?d=e.initial?D(e.initial):D(this.data,e.use):e.initial={};var c=e.initial||this.data,f=void 0;switch(d){case "object":f={};break;case "array":v(c)?f=[]:(f={},d="object");break;case "generator":case "iterator":f=[];d="array";break;default:f=new c.constructor}c=void 0;switch(d){case "array":c=function(){f.push(a.apply(null,arguments))};c.__COLLECTION_TMP__length=
a.length;break;case "object":c=function(b,c){f[c]=a.apply(null,arguments)};c.__COLLECTION_TMP__length=c.length>a.length?c.length:a.length;break;case "map":case "weakMap":c=function(b,c){f.set(c,a.apply(null,arguments))};c.__COLLECTION_TMP__length=c.length>a.length?c.length:a.length;break;case "set":case "weakSep":c=function(){f.add(a.apply(null,arguments))},c.__COLLECTION_TMP__length=a.length}e.result=f;d=p(this.forEach(c,e));return d!==this?d:e.result};F.prototype.valueOf=function(){return this.link};
k.in=function(a,b){return z(b,a,{test:!0})};Object.assign(k,{in:k.in});t.prototype.in=function(a){return z(this.data,a,{test:!0})};t.prototype.get=function(a,b){var e=b||{};if(a instanceof F||!r(a)&&(v(a)&&!r(a[1])||null!=a&&"object"!==typeof a)){var d=z(this.data,a);e.onComplete&&e.onComplete(d);return d}v(a)||r(a)||(e=a||e,a=null);this.filter(e&&e.filter,a);var e=p(Object.assign(Object.create(this.p),e)),c=void 0;!1!==e.mult?function(){var a=e.result=[];c=function(b){return a.push(b)}}():c=function(a){return e.result=
a};d=p(this.forEach(c,e));return d!==this?d:e.result};t.prototype.reduce=function(a,b,e,d){function c(c){null==b?(f.result=c,b=!0):f.result=a.apply(null,[f.result].concat([].slice.call(arguments)))}var f=d||{};v(e)||r(e)||(f=e||f,e=null);this.filter(f&&f.filter,e);f=p(Object.assign(Object.create(this.p),f,{result:b}));c.__COLLECTION_TMP__length=a.length-1;e=p(this.forEach(c,f));return e!==this?e:f.result};t.prototype.every=function(a,b){var e=b||{};v(a)||r(a)||(e=a||e,a=null);this.filter(e&&e.filter,
a);e=p(Object.assign(Object.create(this.p),e,{result:!0,mult:!1}));e.inverseFilter=!e.inverseFilter;var d=p(this.forEach(function(){return e.result=!1},e));return d!==this?d:e.result};t.prototype.some=function(a,b){var e=b||{};v(a)||r(a)||(e=a||e,a=null);this.filter(e&&e.filter,a);var e=p(Object.assign(Object.create(this.p),e,{mult:!0,result:!1})),d=p(this.forEach(function(){return e.result=!0},e));return d!==this?d:e.result};t.prototype.search=function(a,b){var e=this,d=b||{};v(a)||r(a)||(d=a||d,
a=null);this.filter(d&&d.filter,a);var d=p(Object.assign(Object.create(this.p),d)),c=void 0;!1!==d.mult?function(){var a=d.result=[];C(e.data)?c=function(b){return a.push(b)}:c=function(b,c){return a.push(c)}}():(d.result=null,c=function(a,b){return d.result=I(e.data)?{value:b}:C(e.data)?{value:a}:b});var f=p(this.forEach(c,d));return f!==this?f:d.result};t.prototype.includes=function(a,b,e){var d=e||{};v(b)||r(b)||(d=b||d,b=null);e=Number.isNaN(a)?function(a){return Number.isNaN(a)}:function(b){return b===
a};this.filter(d&&d.filter,b,e);d=p(Object.assign(Object.create(this.p),d,{mult:!0,result:!1}));b=p(this.forEach(function(){return d.result=!0},d));return b!==this?b:d.result};t.prototype.group=function(a,b,e){var d=a||function(a){return a},c=e||{};v(b)||r(b)||(c=b||c,b=null);this.filter(c&&c.filter,b);var c=p(Object.assign(Object.create(this.p),c,{mult:!0})),f=r(d),l=c.result=c.useMap?new Z.Map:{};a=void 0;a=c.useMap?function(a,b){var e=f?d.apply(null,arguments):z(a,d),n=c.saveKeys?b:a;l.has(e)?
l.get(e).push(n):l.set(e,[n])}:function(a,b){var e=f?d.apply(null,arguments):z(a,d),n=c.saveKeys?b:a;l[e]?l[e].push(n):l[e]=[n]};f&&(a.__COLLECTION_TMP__length=a.length>d.length?a.length:d.length);a=p(this.forEach(a,c));return a!==this?a:c.result};t.prototype.remove=function(a,b){var e=b||{};if(a instanceof F||!r(a)&&(v(a)&&!r(a[1])||null!=a&&"object"!==typeof a)){var d=z(this.data,a,{delete:!0});e.onComplete&&e.onComplete(d);return d}v(a)||r(a)||(e=a||e,a=null);this.filter(e&&e.filter,a);e=p(Object.assign(Object.create(this.p),
e));d=D(this.data,e.use);if({iterator:!0,generator:!0}[d])throw new TypeError("Incorrect data type");var c=!1!==e.mult,f=[],l=[].splice;c&&(e.result=f);var g=void 0;switch(d){case "map":g=function(a,b,d){d.delete(b);a={result:!d.has(b),key:b,value:a};c?f.push(a):e.result=a};break;case "set":g=function(a,b,d){d.delete(a);a={result:!d.has(a),key:null,value:a};c?f.push(a):e.result=a};break;case "array":e.reverse?g=function(a,b,d){l.call(d,b,1);a={result:d[b]!==a,key:b,value:a};c?f.push(a):e.result=a}:
function(){var a=0;g=e.live?function(b,d,g,x){l.call(g,d,1);x.i(-1);b={result:g[d]!==b,key:d+a,value:b};c?f.push(b):e.result=b;a++}:function(b,d,g,x){function m(k){if(a===k)return!1;l.call(g,d,1);x.i(-1);k={result:g[d]!==b,key:d+a,value:b};c?f.push(k):e.result=k;a++}var k=x.length();"number"===typeof k?m(k):x.wait(k).then(m)}}();break;default:g=function(a,b,d){delete d[b];a={result:!1===b in d,key:b,value:a};c?f.push(a):e.result=a}}d=p(this.forEach(g,e));return d!==this?d:e.result};t.prototype.set=
function(a,b,e){var d=e||{},c=this.data;if(b instanceof F||!r(b)&&(v(b)&&!r(b[1])||null!=b&&"object"!==typeof b))return b=z(c,b,{value:a,create:!1!==d.create,error:!0}),d.onComplete&&d.onComplete(b),b;v(b)||r(b)||(d=b||d,b=null);this.filter(d&&d.filter,b);d=p(Object.assign(Object.create(this.p),d));b=D(c,d.use);var f=r(a),g=!1!==d.mult,k=[];g&&(d.result=k);e=void 0;if(f){switch(b){case "map":e=function(b,c,e){var f=a.apply(null,arguments),h=void 0===f;void 0!==f&&e.get(c)!==f&&(e.set(c,f),h=e.get(c)===
f);f={key:c,value:b,result:h};g?k.push(f):d.result=f};break;case "set":e=function(b,c,e){var f=a.apply(null,arguments),h=void 0===f;void 0===f||e.has(f)||(e.delete(b),e.add(f),h=e.has(f));f={key:null,value:b,result:h};g?k.push(f):d.result=f};break;default:e=function(b,c,e){var f=a.apply(null,arguments),h=void 0===f;void 0!==f&&e[c]!==f&&(e[c]=f,h=e[c]===f);f={key:c,value:b,result:h};g?k.push(f):d.result=f}}e.__COLLECTION_TMP__length=e.length>a.length?e.length:a.length}else switch(b){case "map":e=
function(b,c,e){var f=!1;e.get(c)!==a&&(e.set(c,a),f=e.get(c)===a);b={key:c,value:b,result:f};g?k.push(b):d.result=b};break;case "set":e=function(b,c,e){c=!1;e.has(a)||(e.delete(b),e.add(a),c=e.has(a));b={key:null,value:b,result:c};g?k.push(b):d.result=b};break;default:e=function(b,c,e){var f=!1;e[c]!==a&&(e[c]=a,f=e[c]===a);b={key:c,value:b,result:f};g?k.push(b):d.result=b}}var h=d.onIterationEnd;d.onIterationEnd=function(b){d.result&&d.result.length||!("key"in d)||(null==d.key&&v(c)&&(d.key=c.length),
z(c,d.key,{value:f?a(void 0,void 0,c,b):a,create:!1!==d.create}));h&&h(b)};b=p(this.forEach(e,d));return b!==this?b:d.result};var Oa=[[0,40],[41,160],[161,500],[501,2E3]];t.prototype._priority=A;var G={},H={},L;for(L in A){if(!A.hasOwnProperty(L))break;G[L]=0;H[L]=[]}var M=0;t.prototype.g=function(a,b,e,d){function c(){k(Na()).forEach(function(a,b){var c=H[b];k(a).forEach(function(a,b,d){var f=c[a];if(f.next().done){if(c.splice(a,1),k(d).forEach(function(a,b){a&&d[b]--},{startIndex:b+1}),M--,f.onComplete&&
f.onComplete!==e)f.onComplete(f.ctx.result)}else if(f.onChunk)f.onChunk(f.ctx)})});M&&setTimeout(c,40)}a.thread=!0;a.priority=b;a.destroy=function(){return k.destroy(a)};a.onComplete=e;a.onChunk=d;a.pause=!1;a.sleep=null;a.children=[];var f=a.next;Object.defineProperty(a,"next",{value:function(){null!==a.sleep&&(clearTimeout(a.sleep),a.sleep=null);return f.apply(this,arguments)}});M++;H[b].push(a);1===M&&("function"===typeof setImmediate?setImmediate(c):setTimeout(c,0))};k.destroy=function(a){if(!a||
!a.thread)return!1;var b=a.thread;clearTimeout(b.sleep);k(b.children).forEach(function(a){return k.destroy(a)});k(H[b.priority]).remove(function(a){return a===b},{mult:!1});return!0};Object.assign(k,{destroy:k.destroy});return k}"object"===typeof exports&&"undefined"!==typeof module?module.exports=N():"function"===typeof define&&define.amd?define("Collection",N):this.$C=N();
}).call(this);
