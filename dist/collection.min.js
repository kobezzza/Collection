/*! Collection v6.0.0 | https://github.com/kobezzza/Collection/blob/master/LICENSE */
(function(){'use strict';function M(){function p(a,b){return Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function u(a){return a}function k(a,b){b=[].slice.call(arguments,1);for(var e="",d=0;d<a.length;d++)e+=a[d].replace(ea," ")+(d in b?b[d]:"");return e}function v(a){return"function"===typeof a}function w(a){return Array.isArray(a)}function C(a){return a instanceof Set}function N(a){a=w(a)||a&&Boolean(a)&&O[typeof a]&&!fa.test({}.toString.call(a))&&(0<a.length&&0 in a||0===a.length);return Boolean(a)}
function D(a,b){var e="object";if(!a)return e;if(ga&&"callee"in a&&"length"in a)return"array";switch(b){case "for":e="array";break;case "for of":e="iterator";break;case "for in":e="object";break;default:a instanceof Map?e="map":a instanceof WeakMap?e="weakMap":C(a)?e="set":a instanceof WeakSet?e="weakSet":v(a)&&"GeneratorFunction"===a.constructor.name?e="generator":N(a)?e="array":Boolean(a&&("function"===typeof Symbol?a[Symbol.iterator]:"function"===typeof a["@@iterator"]))&&(e="iterator")}return e}
function X(a){if(!a)return!1;if(w(a))return!0;var b=a.constructor;return v(b)?!Boolean(a)||a.constructor!==Object&&"Object"!==a.constructor.name?ha[b.name]?!1:"[native code]"===b.toString():!0:!1}function t(a){this.data="string"===typeof a?a.split(""):a;this.a={mult:!0,count:!1,from:!1,startIndex:!1,endIndex:!1,reverse:!1,inverseFilter:!1,notOwn:!1,live:!1,thread:!1,priority:"normal",length:!0,filter:[]}}function n(a){return new t(a)}function Y(a){var b="",e;for(e in a)a.hasOwnProperty(e)&&(b+=a[e]);
return b}function ia(a,b){var e={map:!0,set:!0}[b.type],d=!("array"===b.type||b.reverse||"object"===b.type&&b.notOwn&&P),c=k(ja,b.startIndex,b.endIndex,b.from,b.count,b.live,b.reverse,b.notOwn,b.inverseFilter,b.type,b.thread,!b.thread,!b.thread,!b.thread,d,d);b.thread&&(c+=k(ka));for(var f=b.startIndex||0,h=!1!==b.endIndex?b.endIndex+1:0,d=Q.slice(0,b.length?b.c:Q.length),l=[],g=0;g<b.filter.length;g++)l.push(Z.slice(0,b.length?b.b[g]:Z.length));var x=b.length?Math.max.apply(null,[].concat(b.c,b.b)):
Q.length;b.from&&(c+="var from = "+b.from+";");var m="",g="";b.thread?(m=k(la),g=k(ma)):c+="that._stack.push(ctx);";c+="while (limit !== looper) {";switch(b.type){case "array":c+=k(na);b.reverse&&(c+="clone = arr.slice.call(clone).reverse();");!b.reverse&&b.live||!f&&!h||(c+=k(oa,f,h||"data.length"));!b.reverse&&b.live?(c+=k(pa,f-1),f&&(c+=k(R,f)),h&&(c+=k(S,h))):c+=k(qa,f);x&&(1<x&&(c=f?c+("key = "+(b.reverse?"dLength - (":"")+" n + "+(f+(b.reverse?")":""))+";"):c+("key = "+(b.reverse?"dLength - ":
"")+" n;")),c+="el = clone[n];");break;case "object":if(b.reverse||P&&!b.notOwn){c+="var tmpArray;";b.notOwn||!P||b.thread?(c+="tmpArray = [];",c=b.notOwn?-1===b.notOwn?c+k(ra,m,g):c+k(sa,m,g):c+k(ta,m,g)):c+="tmpArray = Object.keys(data);";b.reverse&&(c+="tmpArray.reverse();");if(f||h)c+="tmpArray = tmpArray.slice("+f+", "+(h||"tmpArray.length")+");";c+=k(ua,f)}else c+="for (key in data) {",!1===b.notOwn?c+=k(va):-1===b.notOwn&&(c+=k(wa)),c+=k(xa),f&&(c+=k(R,f)),h&&(c+=k(S,h));x&&(c+="el = data[key];");
break;case "map":case "set":case "generator":case "iterator":var q=function(){e?(c+="var cursor = data.keys();",b.live||b.reverse||(c+="var size = data.size;")):c="generator"===b.type?c+"var cursor = data();":c+k(ya)};if(b.reverse){q();c+=k(za,m,g);if(f||h)c+="tmpArray = tmpArray.slice("+f+", "+(h||"tmpArray.length")+");";c+=k(Aa,x?"key = tmpArray[n];":"",f)}else q(),c+=k(Ba,x?"key = key.value;":""),f&&(c+=k(R,f)),h&&(c+=k(S,h));x&&("map"===b.type?c+="el = data.get(key);":(c+="el = key;",1<x&&(c=
"set"===b.type?c+"key = null;":b.reverse?c+"key = size - i - 1;":c+"key = i;")))}c+=m;b.count&&(c+=k(Ca,b.count));if(b.filter.length){c+="if (";for(f=0;f<b.filter.length;f++)c+="("+(b.inverseFilter?"!":"")+"(f = filters["+f+"]("+l[f]+")) || f === "+(b.inverseFilter?"FALSE":"TRUE")+")",f!==b.filter.length-1&&(c+="&&");c+=") {"}l=void 0;l=b.mult?"cb("+d+");":"cb("+d+"); breaker = true;";b.count&&(l+="j++;");c=b.from?c+k(Da,l):c+l;b.filter.length&&(c+="}");d=k(Ea);b.thread&&(c+=d);b.live||b.reverse||
!e||(c+=k(Fa));c+=k(Ga,g);b.thread&&(c+=d);c+=k(Ha);I[a]=b.thread?eval(k(Ia,c)):Function("o","p",c);n.ready&&function(){var b='__COLLECTION_NAMESPACE__https_github_com_kobezzza_Collection.cache.cycle["'+a+'"] = '+I[a].toString()+";";J[a]=b;T&&aa?(clearTimeout(E),E=setTimeout(function(){try{if(localStorage.setItem("__COLLECTION_CACHE_VERSION__",JSON.stringify(J)),localStorage.setItem("__COLLECTION_CACHE__",16),Ja){var a=document.createElement("script");a.src=URL.createObjectURL(new Blob([b],{type:"application/javascript"}));
document.head.appendChild(a)}}catch(c){}},5E3)):B&&(clearTimeout(E),E=setTimeout(function(){require("fs").writeFile(require("path").join(__dirname,"collection.tmp.js"),"\n\t\t\t\t\t\texports.version = 16;\n\t\t\t\t\t\texports.cache = "+JSON.stringify(J)+";\n\t\t\t\t\t\texports.exec = function () { "+Y(J)+" };\n\t\t\t\t\t",function(){})},5E3),E.unref())}();return I[a]}function F(a){this.link=w(a)?[a]:a}function z(a,b,e){e=e||{};b instanceof F&&(b=b.valueOf());for(var d="string"===typeof b?b.split("."):
[].concat(b),c=d.length,f=c-1,h=void 0,l=void 0,g=-1;++g<c;){b=d[g];if(null==a){if(e.test)return!1;if(e.error)throw new ReferenceError(b+" is not defined!");return}var x=g===f&&e.test;x&&(h=a,l=b);var m=a instanceof Map||a instanceof WeakMap,q=C(a)||a instanceof WeakSet;if(!x&&g===f&&(e.delete||void 0!==e.value))return d={key:q?null:b,result:m||q?a.has(b):b in a,value:m?a.get(b):q?b:a[b]},e.delete?d.result&&(m||q?(a.delete(b),d.result=!a.has(b)):(N(a)&&!isNaN(Number(b))?[].splice.call(a,b,1):delete a[b],
d.result=!1===b in a||a[b]!==d.value)):m?a.get(b)!==e.value?(a.set(b,e.value),d.result=a.get(b)===e.value):d.result=!1:q?(m=a.has(b),d.result=!1,d.value=m?b:void 0,a.has(e.value)||(m&&a.delete(b),a.add(e.value),d.result=a.has(e.value))):(N(a)&&!isNaN(Number(d.key))?d.key=Number(d.key):d.key=String(d.key),a[b]!==e.value?(a[b]=e.value,d.result=a[b]===e.value):d.result=!1),d;m?a=a.get(b):q?a.has(b)?a=b:a=void 0:(e.create&&void 0===a[b]&&(a[b]={}),a=a[b])}return e.test?h instanceof Map||h instanceof WeakMap||
C(h)||h instanceof WeakSet?h.has(l):l in h:a}function Ka(){function a(){var a=[];n(f).forEach(function(b,c){a.push({key:c,value:A[c]})},function(a){return a.length});a.sort(b);var x=a.length-1,m=0;n(a).forEach(function(b,c){var d=La[x];d[1]>m&&(m=d[1]);a[c].value=d;x--});var q=Math.floor(Math.random()*(m-0+1))+0;n(a).forEach(function(a){var b=a.key,g=a.value;a=d[b];if(q>=g[0]&&q<=g[1]){e[b]=e[b]||[];g=G[b];null==a[g]&&(G[b]=g=0,c[b]=0);var m=f[b][a[g]];m&&!m.pause&&(c[b]++,e[b].push(a[g]),h+=A[b]);
a.splice(g,1);a.length||(delete f[b],l--);return!1}});if(!l)return"break"}function b(a,b){return b.value-a.value}var e={},d={},c={},f=Object.assign({},H),h=0,l=0;for(n(f).forEach(function(a,b){d[b]=n(a).map(function(a,b){return b});c[b]=0;l++},function(a){return a.length});40>=h&&"break"!==a(););n(c).forEach(function(a,b){G[b]+=a});return e}var ea=/^\s+|[\r\n]+/mg,Ma=p(["\n\t(function () {\n\t\t'use strict';\n\t\tvar res = true;\n\n\t\ttry {\n\t\t\targuments.callee;\n\n\t\t} catch (ignore) {\n\t\t\tres = false;\n\t\t}\n\n\t\treturn res;\n\t})();\n"],
["\n\t(function () {\n\t\t'use strict';\n\t\tvar res = true;\n\n\t\ttry {\n\t\t\targuments.callee;\n\n\t\t} catch (ignore) {\n\t\t\tres = false;\n\t\t}\n\n\t\treturn res;\n\t})();\n"]),B;try{B="object"===typeof process&&"[object process]"==={}.toString.call(process)}catch(a){B=!1}var T=!B&&"object"===typeof window,Ja=T&&"function"===typeof Blob&&"function"===typeof URL,aa=!B&&"object"===typeof localStorage,P="[native code]"===(Object.keys&&Object.keys.toString());(function(){try{var a=new Map,b={};
a.set(b,!0);return a.get(b)}catch(e){return!1}})();(function(){try{var a=new Set,b={};a.add(b);return a.has(b)}catch(e){return!1}})();var U;try{U=!1===Object.getOwnPropertyDescriptor(Object.create(null,{f:{enumerable:!1}}),"foo").enumerable}catch(a){U=!1}var V;try{V="bar"===JSON.parse(JSON.stringify({f:"bar"})).f}catch(a){V=!1}var ga=Boolean(eval(k(Ma))),O={object:!0,"function":!0},fa=/\[object Function]/,ha={Crypto:!0,Number:!0,String:!0,Boolean:!0,Symbol:!0,Function:!0,Date:!0,RegExp:!0,Blob:!0,
Array:!0,ArrayBuffer:!0,Uint8ClampedArray:!0,Uint8Array:!0,Uint16Array:!0,Uint32Array:!0,Int8Array:!0,Int16Array:!0,Int32Array:!0,Map:!0,WeakMap:!0,Set:!0,WeakSet:!0,Error:!0,EvalError:!0,TypeError:!0,SyntaxError:!0,URIError:!0,RangeError:!0,ReferenceError:!0};t.prototype.VERSION=[6,0,0];Object.assign(n,{ready:!1,cache:{str:{},cycle:{}}});var I=n.cache.cycle,ba=Function("return this")();ba.__COLLECTION_NAMESPACE__https_github_com_kobezzza_Collection=n;var ja=p(["\n\t\tvar \n\t\t\tthat = this,\n\t\t\tdata = o.data,\n\t\t\tcb = o.cb,\n\t\t\tfilters = o.filters,\n\t\t\tlink = o.link,\n\t\t\tonIterationEnd = o.onIterationEnd,\n\t\t\tonComplete = o.onComplete;\n\n\t\tvar\n\t\t\twait = 0,\n\t\t\tonGlobalComplete,\n\t\t\tonGlobalError;\n\n\t\tvar\n\t\t\ti = -1,\n\t\t\tj = 0,\n\t\t\tn = -1;\n\n\t\tvar\n\t\t\tresults = [],\n\t\t\tbreaker = false,\n\t\t\tyielder = false,\n\t\t\tyieldVal;\n\n\t\tvar\n\t\t\ttimeStart,\n\t\t\ttimeEnd,\n\t\t\ttime = 0;\n\n\t\tvar\n\t\t\tlimit = 1,\n\t\t\tlooper = 0;\n\n\t\tvar\n\t\t\tlength,\n\t\t\tf;\n\n\t\tvar\n\t\t\tTRUE = this.TRUE,\n\t\t\tFALSE = this.FALSE,\n\t\t\tNULL = this.NULL;\n\n\t\tvar\n\t\t\tel,\n\t\t\tkey;\n\n\t\tvar\n\t\t\tarr = [],\n\t\t\t$ = {};\n\n\t\tvar info = {\n\t\t\tstartIndex: ",
",\n\t\t\tendIndex: ",",\n\t\t\tfrom: ",",\n\t\t\tcount: ",",\n\t\t\tlive: ",",\n\t\t\treverse: ",",\n\t\t\tnotOwn: ",",\n\t\t\tinverseFilter: ",",\n\t\t\ttype: '","',\n\t\t\tthread: ","\n\t\t};\n\n\t\tvar ctx = {\n\t\t\t$: $,\n\t\t\tinfo: info,\n\t\t\tget result() {\n\t\t\t\treturn p.result;\n\t\t\t},\n\n\t\t\tyield: function (opt_val) {\n\t\t\t\tif (",") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tyielder = true;\n\t\t\t\tyieldVal = opt_val;\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tget next() {\n\t\t\t\tif (",
") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlink.self.next();\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tsleep: function (time, opt_test, opt_interval) {\n\t\t\t\tif (",") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tctx.yield();\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tlink.self.sleep = setTimeout(function () {\n\t\t\t\t\t\tif (opt_test) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar test = opt_test(ctx);\n\n\t\t\t\t\t\t\t\tif (test) {\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t\tlink.self.next();\n\n\t\t\t\t\t\t\t\t} else if (opt_interval) {\n\t\t\t\t\t\t\t\t\tctx.sleep(time, opt_test, opt_interval).then(resolve, reject);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\tlink.self.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, time);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\twait: function (promise) {\n\t\t\t\tvar thread = promise.thread;\n\n\t\t\t\tif (!thread || !thread.thread) {\n\t\t\t\t\tresults.push(thread);\n\n\t\t\t\t\tif (!wait) {\n\t\t\t\t\t\tif (onGlobalComplete) {\n\t\t\t\t\t\t\tonGlobalComplete(results);\n\t\t\t\t\t\t\tonGlobalComplete = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresults = [];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tctx.yield();\n\t\t\t\twait++;\n\n\t\t\t\tvar onComplete = thread.onComplete;\n\t\t\t\tthread.onComplete = function (res) {\n\t\t\t\t\tif (wait) {\n\t\t\t\t\t\twait--;\n\t\t\t\t\t}\n\n\t\t\t\t\tresults.push(res);\n\t\t\t\t\tthat._stack.push(ctx);\n\n\t\t\t\t\tif (onComplete) {\n\t\t\t\t\t\tonComplete(res);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!wait) {\n\t\t\t\t\t\tyielder = false;\n\t\t\t\t\t\tif (onGlobalComplete) {\n\t\t\t\t\t\t\tonGlobalComplete(results);\n\t\t\t\t\t\t\tonGlobalComplete = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresults = [];\n\t\t\t\t\t\tthat._stack.pop();\n\n\t\t\t\t\t\tif (!yielder) {\n\t\t\t\t\t\t\tctx.next;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat._stack.pop();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn promise.catch(function (err) {\n\t\t\t\t\tif (onGlobalError) {\n\t\t\t\t\t\tonGlobalError(err);\n\t\t\t\t\t\tonGlobalError = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tget complete() {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tif (!wait) {\n\t\t\t\t\t\tresolve(that, results);\n\t\t\t\t\t\tresults = [];\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tonGlobalComplete = resolve;\n\t\t\t\t\tonGlobalError = reject;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tjump: function (val) {\n\t\t\t\tif (",
") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar diff = i - n;\n\t\t\t\tn = val - 1;\n\t\t\t\ti = n + diff;\n\n\t\t\t\treturn i;\n\t\t\t},\n\n\t\t\ti: function (val) {\n\t\t\t\tif (val === undefined) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\n\t\t\t\tif (",") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tn += val;\n\t\t\t\ti += val;\n\n\t\t\t\treturn i;\n\t\t\t},\n\n\t\t\tget reset() {\n\t\t\t\tbreaker = true;\n\t\t\t\tlimit++;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tget break() {\n\t\t\t\tbreaker = true;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t};\n\n\t\tvar cbCtx = Object.create(ctx);\n\t\tcbCtx.length = o.cbLength;\n\n\t\tvar filterCtx = Object.create(ctx);\n\t\tfilterCtx.length = o.fLength;\n\t"],
["\n\t\tvar \n\t\t\tthat = this,\n\t\t\tdata = o.data,\n\t\t\tcb = o.cb,\n\t\t\tfilters = o.filters,\n\t\t\tlink = o.link,\n\t\t\tonIterationEnd = o.onIterationEnd,\n\t\t\tonComplete = o.onComplete;\n\n\t\tvar\n\t\t\twait = 0,\n\t\t\tonGlobalComplete,\n\t\t\tonGlobalError;\n\n\t\tvar\n\t\t\ti = -1,\n\t\t\tj = 0,\n\t\t\tn = -1;\n\n\t\tvar\n\t\t\tresults = [],\n\t\t\tbreaker = false,\n\t\t\tyielder = false,\n\t\t\tyieldVal;\n\n\t\tvar\n\t\t\ttimeStart,\n\t\t\ttimeEnd,\n\t\t\ttime = 0;\n\n\t\tvar\n\t\t\tlimit = 1,\n\t\t\tlooper = 0;\n\n\t\tvar\n\t\t\tlength,\n\t\t\tf;\n\n\t\tvar\n\t\t\tTRUE = this.TRUE,\n\t\t\tFALSE = this.FALSE,\n\t\t\tNULL = this.NULL;\n\n\t\tvar\n\t\t\tel,\n\t\t\tkey;\n\n\t\tvar\n\t\t\tarr = [],\n\t\t\t$ = {};\n\n\t\tvar info = {\n\t\t\tstartIndex: ",
",\n\t\t\tendIndex: ",",\n\t\t\tfrom: ",",\n\t\t\tcount: ",",\n\t\t\tlive: ",",\n\t\t\treverse: ",",\n\t\t\tnotOwn: ",",\n\t\t\tinverseFilter: ",",\n\t\t\ttype: '","',\n\t\t\tthread: ","\n\t\t};\n\n\t\tvar ctx = {\n\t\t\t$: $,\n\t\t\tinfo: info,\n\t\t\tget result() {\n\t\t\t\treturn p.result;\n\t\t\t},\n\n\t\t\tyield: function (opt_val) {\n\t\t\t\tif (",") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tyielder = true;\n\t\t\t\tyieldVal = opt_val;\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tget next() {\n\t\t\t\tif (",
") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlink.self.next();\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tsleep: function (time, opt_test, opt_interval) {\n\t\t\t\tif (",") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tctx.yield();\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tlink.self.sleep = setTimeout(function () {\n\t\t\t\t\t\tif (opt_test) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar test = opt_test(ctx);\n\n\t\t\t\t\t\t\t\tif (test) {\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t\tlink.self.next();\n\n\t\t\t\t\t\t\t\t} else if (opt_interval) {\n\t\t\t\t\t\t\t\t\tctx.sleep(time, opt_test, opt_interval).then(resolve, reject);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\tlink.self.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, time);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\twait: function (promise) {\n\t\t\t\tvar thread = promise.thread;\n\n\t\t\t\tif (!thread || !thread.thread) {\n\t\t\t\t\tresults.push(thread);\n\n\t\t\t\t\tif (!wait) {\n\t\t\t\t\t\tif (onGlobalComplete) {\n\t\t\t\t\t\t\tonGlobalComplete(results);\n\t\t\t\t\t\t\tonGlobalComplete = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresults = [];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tctx.yield();\n\t\t\t\twait++;\n\n\t\t\t\tvar onComplete = thread.onComplete;\n\t\t\t\tthread.onComplete = function (res) {\n\t\t\t\t\tif (wait) {\n\t\t\t\t\t\twait--;\n\t\t\t\t\t}\n\n\t\t\t\t\tresults.push(res);\n\t\t\t\t\tthat._stack.push(ctx);\n\n\t\t\t\t\tif (onComplete) {\n\t\t\t\t\t\tonComplete(res);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!wait) {\n\t\t\t\t\t\tyielder = false;\n\t\t\t\t\t\tif (onGlobalComplete) {\n\t\t\t\t\t\t\tonGlobalComplete(results);\n\t\t\t\t\t\t\tonGlobalComplete = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresults = [];\n\t\t\t\t\t\tthat._stack.pop();\n\n\t\t\t\t\t\tif (!yielder) {\n\t\t\t\t\t\t\tctx.next;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat._stack.pop();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn promise.catch(function (err) {\n\t\t\t\t\tif (onGlobalError) {\n\t\t\t\t\t\tonGlobalError(err);\n\t\t\t\t\t\tonGlobalError = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tget complete() {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tif (!wait) {\n\t\t\t\t\t\tresolve(that, results);\n\t\t\t\t\t\tresults = [];\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tonGlobalComplete = resolve;\n\t\t\t\t\tonGlobalError = reject;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tjump: function (val) {\n\t\t\t\tif (",
") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar diff = i - n;\n\t\t\t\tn = val - 1;\n\t\t\t\ti = n + diff;\n\n\t\t\t\treturn i;\n\t\t\t},\n\n\t\t\ti: function (val) {\n\t\t\t\tif (val === undefined) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\n\t\t\t\tif (",") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tn += val;\n\t\t\t\ti += val;\n\n\t\t\t\treturn i;\n\t\t\t},\n\n\t\t\tget reset() {\n\t\t\t\tbreaker = true;\n\t\t\t\tlimit++;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tget break() {\n\t\t\t\tbreaker = true;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t};\n\n\t\tvar cbCtx = Object.create(ctx);\n\t\tcbCtx.length = o.cbLength;\n\n\t\tvar filterCtx = Object.create(ctx);\n\t\tfilterCtx.length = o.fLength;\n\t"]),
ka=p(["\n\t\t\tctx.thread = link.self;\n\t\t\tlink.self.ctx = ctx;\n\t\t"],["\n\t\t\tctx.thread = link.self;\n\t\t\tlink.self.ctx = ctx;\n\t\t"]),la=p(["\n\t\t\tif (timeStart == null) {\n\t\t\t\tthat._stack.push(ctx);\n\t\t\t\ttimeStart = new Date().valueOf();\n\t\t\t}\n\t\t"],["\n\t\t\tif (timeStart == null) {\n\t\t\t\tthat._stack.push(ctx);\n\t\t\t\ttimeStart = new Date().valueOf();\n\t\t\t}\n\t\t"]),ma=p(["\n\t\t\ttimeEnd = new Date().valueOf();\n\t\t\ttime += timeEnd - timeStart;\n\t\t\ttimeStart = timeEnd;\n\n\t\t\tif (time > this._priority[link.self.priority]) {\n\t\t\t\tthat._stack.pop();\n\t\t\t\tyield n;\n\t\t\t\ttime = 0;\n\t\t\t\ttimeStart = null;\n\t\t\t}\n\t\t"],
["\n\t\t\ttimeEnd = new Date().valueOf();\n\t\t\ttime += timeEnd - timeStart;\n\t\t\ttimeStart = timeEnd;\n\n\t\t\tif (time > this._priority[link.self.priority]) {\n\t\t\t\tthat._stack.pop();\n\t\t\t\tyield n;\n\t\t\t\ttime = 0;\n\t\t\t\ttimeStart = null;\n\t\t\t}\n\t\t"]),na=p(["\n\t\t\t\tvar\n\t\t\t\t\tclone = data,\n\t\t\t\t\tdLength = data.length - 1;\n\t\t\t"],["\n\t\t\t\tvar\n\t\t\t\t\tclone = data,\n\t\t\t\t\tdLength = data.length - 1;\n\t\t\t"]),oa=p(["\n\t\t\t\t\tclone = arr.slice.call(clone, ",
", ",");\n\t\t\t\t"],["\n\t\t\t\t\tclone = arr.slice.call(clone, ",", ",");\n\t\t\t\t"]),pa=p(["\n\t\t\t\t\tfor (n = ","; ++n < clone.length;) {\n\t\t\t\t\t\ti = n;\n\t\t\t\t"],["\n\t\t\t\t\tfor (n = ","; ++n < clone.length;) {\n\t\t\t\t\t\ti = n;\n\t\t\t\t"]),R=p(["\n\t\t\t\t\t\tif (n < ",") {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t"],["\n\t\t\t\t\t\tif (n < ",") {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t"]),S=p(["\n\t\t\t\t\t\tif (n > ",") {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t};\n\t\t\t\t\t"],
["\n\t\t\t\t\t\tif (n > ",") {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t};\n\t\t\t\t\t"]),qa=p(["\n\t\t\t\t\tlength = clone.length;\n\t\t\t\t\tfor (n = -1; ++n < length;) {\n\t\t\t\t\t\ti = n + ",";\n\t\t\t\t"],["\n\t\t\t\t\tlength = clone.length;\n\t\t\t\t\tfor (n = -1; ++n < length;) {\n\t\t\t\t\t\ti = n + ",";\n\t\t\t\t"]),ra=p(["\n\t\t\t\t\t\t\t\tfor (var key in data) {\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\ttmpArray.push(key);\n\t\t\t\t\t\t\t\t\t",
"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t"],["\n\t\t\t\t\t\t\t\tfor (var key in data) {\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\ttmpArray.push(key);\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t"]),sa=p(["\n\t\t\t\t\t\t\t\tfor (var key in data) {\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\ttmpArray.push(key);\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t"],["\n\t\t\t\t\t\t\t\tfor (var key in data) {\n\t\t\t\t\t\t\t\t\t",
"\n\t\t\t\t\t\t\t\t\ttmpArray.push(key);\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t"]),ta=p(["\n\t\t\t\t\t\t\tfor (var key in data) {\n\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\tif (!data.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\ttmpArray.push(key);\n\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t"],["\n\t\t\t\t\t\t\tfor (var key in data) {\n\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\tif (!data.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\ttmpArray.push(key);\n\t\t\t\t\t\t\t\t",
"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t"]),ua=p(["\n\t\t\t\t\tlength = tmpArray.length;\n\t\t\t\t\tfor (n = -1; ++n < length;) {\n\t\t\t\t\t\tkey = tmpArray[n];\n\n\t\t\t\t\t\tif (key in data === false) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ti = n + ",";\n\t\t\t\t"],["\n\t\t\t\t\tlength = tmpArray.length;\n\t\t\t\t\tfor (n = -1; ++n < length;) {\n\t\t\t\t\t\tkey = tmpArray[n];\n\n\t\t\t\t\t\tif (key in data === false) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ti = n + ",";\n\t\t\t\t"]),
va=p(["\n\t\t\t\t\t\tif (!data.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}"],["\n\t\t\t\t\t\tif (!data.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}"]),wa=p(["\n\t\t\t\t\t\tif (!data.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}"],["\n\t\t\t\t\t\tif (!data.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}"]),xa=p(["\n\t\t\t\t\tn++;\n\t\t\t\t\ti = n;\n\t\t\t\t"],["\n\t\t\t\t\tn++;\n\t\t\t\t\ti = n;\n\t\t\t\t"]),ya=p(["\n\t\t\t\t\t\tvar\n\t\t\t\t\t\t\titeratorKey = typeof Symbol !== 'undefined' && Symbol.iterator,\n\t\t\t\t\t\t\tcursor;\n\n\t\t\t\t\t\tif ('next' in data) {\n\t\t\t\t\t\t\tcursor = data;\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcursor = (iteratorKey ? data[iteratorKey]() : data['@@iterator'] && data['@@iterator']()) || data;\n\t\t\t\t\t\t}\n\t\t\t\t\t"],
["\n\t\t\t\t\t\tvar\n\t\t\t\t\t\t\titeratorKey = typeof Symbol !== 'undefined' && Symbol.iterator,\n\t\t\t\t\t\t\tcursor;\n\n\t\t\t\t\t\tif ('next' in data) {\n\t\t\t\t\t\t\tcursor = data;\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcursor = (iteratorKey ? data[iteratorKey]() : data['@@iterator'] && data['@@iterator']()) || data;\n\t\t\t\t\t\t}\n\t\t\t\t\t"]),za=p(["\n\t\t\t\t\tvar tmpArray = [];\n\n\t\t\t\t\tfor (var step = cursor.next(); !step.done; step = cursor.next()) {\n\t\t\t\t\t\t","\n\t\t\t\t\t\ttmpArray.push(step.value);\n\t\t\t\t\t\t",
"\n\t\t\t\t\t}\n\n\t\t\t\t\ttmpArray.reverse();\n\t\t\t\t\tvar size = tmpArray.length;\n\t\t\t\t"],["\n\t\t\t\t\tvar tmpArray = [];\n\n\t\t\t\t\tfor (var step = cursor.next(); !step.done; step = cursor.next()) {\n\t\t\t\t\t\t","\n\t\t\t\t\t\ttmpArray.push(step.value);\n\t\t\t\t\t\t","\n\t\t\t\t\t}\n\n\t\t\t\t\ttmpArray.reverse();\n\t\t\t\t\tvar size = tmpArray.length;\n\t\t\t\t"]),Aa=p(["\n\t\t\t\t\tlength = tmpArray.length;\n\t\t\t\t\tfor (n = -1; ++n < length;) {\n\t\t\t\t\t\t","\n\t\t\t\t\t\ti = n + ",
";\n\t\t\t\t"],["\n\t\t\t\t\tlength = tmpArray.length;\n\t\t\t\t\tfor (n = -1; ++n < length;) {\n\t\t\t\t\t\t","\n\t\t\t\t\t\ti = n + ",";\n\t\t\t\t"]),Ba=p(["\n\t\t\t\t\tfor (key = cursor.next(); !key.done; key = cursor.next()) {\n\t\t\t\t\t\t","\n\t\t\t\t\t\tn++;\n\t\t\t\t\t\ti = n;\n\t\t\t\t"],["\n\t\t\t\t\tfor (key = cursor.next(); !key.done; key = cursor.next()) {\n\t\t\t\t\t\t","\n\t\t\t\t\t\tn++;\n\t\t\t\t\t\ti = n;\n\t\t\t\t"]),Ca=p(["\n\t\t\tif (j === ",") {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t"],
["\n\t\t\tif (j === ",") {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t"]),Da=p(["\n\t\t\tif (from !== 0) {\n\t\t\t\tfrom--;\n\n\t\t\t} else {\n\t\t\t\t","\n\t\t\t}\n\t\t"],["\n\t\t\tif (from !== 0) {\n\t\t\t\tfrom--;\n\n\t\t\t} else {\n\t\t\t\t","\n\t\t\t}\n\t\t"]),Ea=p(["\n\t\tif (yielder) {\n\t\t\tthat._stack.pop();\n\t\t\tyielder = false;\n\n\t\t\tif (link.self) {\n\t\t\t\tlink.self.pause = true;\n\n\t\t\t} else {\n\t\t\t\tlink.pause = true;\n\t\t\t}\n\n\t\t\tyield yieldVal;\n\n\t\t\tlink.self.pause = false;\n\t\t\tdelete link.pause;\n\n\t\t\tyieldVal = void 0;\n\t\t\tthat._stack.push(ctx);\n\t\t}\n\t"],
["\n\t\tif (yielder) {\n\t\t\tthat._stack.pop();\n\t\t\tyielder = false;\n\n\t\t\tif (link.self) {\n\t\t\t\tlink.self.pause = true;\n\n\t\t\t} else {\n\t\t\t\tlink.pause = true;\n\t\t\t}\n\n\t\t\tyield yieldVal;\n\n\t\t\tlink.self.pause = false;\n\t\t\tdelete link.pause;\n\n\t\t\tyieldVal = void 0;\n\t\t\tthat._stack.push(ctx);\n\t\t}\n\t"]),Fa=p(["\n\t\t\tsize--;\n\n\t\t\tif (!size) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t"],["\n\t\t\tsize--;\n\n\t\t\tif (!size) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t"]),Ga=p(["\n\t\t\tif (breaker) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t",
"\n\t\t}\n\n\t\tbreaker = false;\n\t\tlooper++;\n\n\t\tif (onIterationEnd) {\n\t\t\tonIterationEnd(ctx);\n\t\t}\n\t"],["\n\t\t\tif (breaker) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t","\n\t\t}\n\n\t\tbreaker = false;\n\t\tlooper++;\n\n\t\tif (onIterationEnd) {\n\t\t\tonIterationEnd(ctx);\n\t\t}\n\t"]),Ha=p(["\n\t\t}\n\n\t\tthat._stack.pop();\n\n\t\tif (onComplete) {\n\t\t\tonComplete(p.result);\n\t\t}\n\n\t\treturn p.result;\n\t"],["\n\t\t}\n\n\t\tthat._stack.pop();\n\n\t\tif (onComplete) {\n\t\t\tonComplete(p.result);\n\t\t}\n\n\t\treturn p.result;\n\t"]),
Ia=p(["(function *(o, p) { "," })"],["(function *(o, p) { "," })"]),E=void 0,J=n.cache.str,Q=["el","key","data","cbCtx"],Z=["el","key","data","filterCtx"];if(T&&V&&aa)try{if("loading"===document.readyState){var Na=localStorage.getItem("__COLLECTION_CACHE__"),ca=localStorage.getItem("__COLLECTION_CACHE_VERSION__");ca&&16==Na?(n.cache.str=JSON.parse(ca),document.write('<script type="text/javascript">'+Y(n.cache.str)+"__COLLECTION_NAMESPACE__https_github_com_kobezzza_Collection.ready = true;\x3c/script>")):
(localStorage.removeItem("__COLLECTION_CACHE_VERSION__"),localStorage.removeItem("__COLLECTION_CACHE__"),n.ready=!0)}}catch(a){}else if(B)try{var W=require(require("path").join(__dirname,"collection.tmp.js"));16===W.version&&(W.exec(),n.cache.str=W.cache)}catch(a){}finally{n.ready=!0}var A={low:5,normal:10,hight:20,critical:40};t.prototype.length=function(a,b){function e(){return d.result++}var d=u(b||{});w(a)||v(a)||(d=a||d,a=null);d.filter=a;d.result=0;e.__COLLECTION_TMP__lengthQuery=!0;var c=u(this.forEach(e,
d));!0!==e.__COLLECTION_TMP__lengthQuery&&(d.result=e.__COLLECTION_TMP__lengthQuery,d.onComplete&&d.onComplete(d.result));return c!==this?c:d.result};var da=t.prototype._stack=[];t.prototype.forEach=function(a,b){var e=this,d=u(Object.create(this.a));this.a={mult:!0,count:!1,from:!1,startIndex:!1,endIndex:!1,reverse:!1,inverseFilter:!1,notOwn:!1,live:!1,thread:!1,priority:"normal",length:!0,filter:[]};w(b)||v(b)?d.filter=b:Object.assign(d,b);d.notOwn&&(d.use="for in");if(d.hasOwnProperty("priority")||
d.onChunk)d.thread=!0;A[d.priority]||(A[d.priority]="normal");var c=this.data,f=d.type=D(c,d.use);if(!Boolean(c)||!O[typeof c]||{weakMap:!0,weakSet:!0}[f])throw new TypeError("Incorrect data type");var h=d.filter=[].concat(d.filter||[]);if(!h.length&&a.__COLLECTION_TMP__lengthQuery){if("array"===f)return a.__COLLECTION_TMP__lengthQuery=(d.startIndex||!1!==d.endIndex?[].slice.call(c,d.startIndex||0,!1!==d.endIndex?d.endIndex+1:c.length):c).length,this;if({map:!0,set:!0}[f]&&!d.startIndex&&!1===d.endIndex)return a.__COLLECTION_TMP__lengthQuery=
c.size,this}var l=!1,g=!1;if(d.length){l=d.c=a.__COLLECTION_TMP__length||a.length;d.b=[];for(g=0;g<h.length;g++)d.b.push(h[g].__COLLECTION_TMP__length||h[g].length);g=d.b.length?d.b:!1}var x=void 0;l&&3<l&&function(){var a=u(Object.assign({},b,{onChunk:null,onIterationEnd:null,onComplete:function(a){x.value=a}}));x=function(b){if(!x.value||b)x.value=e.length(h,a);return x.value}}();var m=void 0;g&&3<Math.max.apply(null,g)&&function(){var a=u(Object.assign({},b,{onChunk:null,onIterationEnd:null,onComplete:function(a){m.value=
a}}));m=function(b){if(!m.value||b)m.value=e.length(null,a);return m.value}}();var f=[f,l,h.length,g,d.length,d.thread,d.notOwn,d.live,d.inverseFilter,d.reverse,d.mult,d.count,d.from,d.startIndex,d.endIndex].join(),q={},y=u(I[f]||ia(f,d)),r={data:c,cb:a,cbLength:x,filters:h,fLength:m,link:q,onComplete:d.onComplete,onIterationEnd:d.onIterationEnd};if(d.thread&&(c=function(){var c=void 0,g=new Promise(function(g,f){function m(a){return a?function(b,c,d,e){try{return a(b,c,d,e)}catch(g){throw f(g),g;
}}:void 0}for(var l=0;l<h.length;l++)h[l]=m(h[l]);var x=d.onComplete;r.onComplete=d.onComplete=m(function(a){x&&x(a);g(a)});r.cb=m(a);r.onIterationEnd=m(d.onIterationEnd);c=q.self=y.call(e,r,b||d);q.pause&&(q.self.pause=!0);for(var l=da.length,n=void 0,k=1;n=da[l-k];){if(n.thread){n.thread.children.push(c);break}k++}e.g(c,d.priority,d.onComplete,m(d.onChunk))});g.thread=c;return{h:g}}(),"object"===typeof c))return c.h;q.self=y.call(this,r,b||d);q.pause&&(q.self.pause=!0);return this};t.prototype.filter=
function(a){this.a.filter=this.a.filter.concat(a);return this};t.prototype.thread=function(a){this.a.thread=!0;a&&(this.a.priority=a);return this};n.clone=function(a){return JSON.parse(JSON.stringify(a))};n.extend=function(a,b,e){var d=!1,c=!1,f=!1,h=!1,l=void 0;a&&"boolean"!==typeof a?(f=a.withProto,c=a.withAccessors&&U,d=Boolean(a.concatArray),h=a.traits||!1,l=Boolean(a.deep)):l=a||!1;var g;g=Boolean(b)&&O[typeof b]?b:w(arguments[2])?[]:{};for(var x=arguments.length,m=1;++m<x;){var q=arguments[m];
if(q)for(var y in q){if(c){var r=Object.getOwnPropertyDescriptor(q,y);if(r&&(r.set||r.get)){Object.defineProperty(g,y,{get:r.get,set:r.set});continue}}var r=g[y],k=q[y];if(g!==k&&k!==q){var p=void 0;if(l&&k&&"object"===typeof k&&((p=w(k))||X(k))){var u=r&&"object"===typeof r,v=u&&X(r);f&&v&&!g.hasOwnProperty(y)&&(g[y]=w(g[y])?r=g[y].slice():r=Object.create(g[y]));var t=void 0;if(p)if(p=w(r),v=!1,t=void 0,!p&&f&&d&&(p=(t=u&&Object.getPrototypeOf(r))&&w(t)&&(v=!0)),p)if(d){g[y]=(v?t:r).concat(k);continue}else t=
r;else t=[];else r&&v&&!w(r)?t=r:t={};g[y]=n.extend(a,t,k)}else void 0!==k&&(h?y in g===(-1===h)&&(g[y]=k):g[y]=k)}}}return g};Object.assign(n,{extend:n.extend,clone:n.clone});t.prototype.map=function(a,b){var e=u(b||{});v(a)||(e=a||e,a=function(a){return a});if(w(e)||v(e))e={filter:e};var d="object";!e.use&&!e.notOwn||e.initial?d=e.initial?D(e.initial):D(this.data,e.use):e.initial={};var c=e.initial||this.data,f=void 0;switch(d){case "object":f={};break;case "array":w(c)?f=[]:(f={},d="object");break;
case "generator":case "iterator":f=[];d="array";break;default:f=new c.constructor}c=void 0;switch(d){case "array":c=function(){f.push(a.apply(null,arguments))};c.__COLLECTION_TMP__length=a.length;break;case "object":c=function(b,c){f[c]=a.apply(null,arguments)};c.__COLLECTION_TMP__length=c.length>a.length?c.length:a.length;break;case "map":case "weakMap":c=function(b,c){f.set(c,a.apply(null,arguments))};c.__COLLECTION_TMP__length=c.length>a.length?c.length:a.length;break;case "set":case "weakSep":c=
function(){f.add(a.apply(null,arguments))},c.__COLLECTION_TMP__length=a.length}e.result=f;d=u(this.forEach(c,e));return d!==this?d:e.result};F.prototype.valueOf=function(){return this.link};n.in=function(a,b){return z(b,a,{test:!0})};Object.assign(n,{in:n.in});t.prototype.in=function(a){return z(this.data,a,{test:!0})};t.prototype.get=function(a,b){var e=u(b||{});if(a instanceof F||!v(a)&&(w(a)&&!v(a[1])||null!=a&&"object"!==typeof a)){var d=z(this.data,a);e.onComplete&&e.onComplete(d);return d}w(a)||
v(a)||(e=a||e,a=null);var c=void 0;!1!==e.mult?function(){var a=e.result=[];c=function(b,c){return a.push(c)}}():c=function(a){return e.result=a};e.filter=a;d=u(this.forEach(c,e));return d!==this?d:e.result};t.prototype.reduce=function(a,b,e,d){function c(c){null==b?(f.result=c,b=!0):f.result=a.apply(null,[f.result].concat([].slice.call(arguments)))}var f=u(d||{});w(e)||v(e)||(f=e||f,e=null);f.result=b;f.filter=e;c.__COLLECTION_TMP__length=a.length-1;e=u(this.forEach(c,f));return e!==this?e:f.result};
t.prototype.every=function(a,b){var e=u(b||{});w(a)||v(a)||(e=a||e,a=null);e.filter=a;e.mult=!1;e.inverseFilter=!e.inverseFilter;e.result=!0;var d=u(this.forEach(function(){return e.result=!1},e));return d!==this?d:e.result};t.prototype.some=function(a,b){var e=u(b||{});w(a)||v(a)||(e=a||e,a=null);e.filter=a;e.mult=!1;e.result=!1;var d=u(this.forEach(function(){return e.result=!0},e));return d!==this?d:e.result};t.prototype.search=function(a,b){var e=this,d=u(b||{});w(a)||v(a)||(d=a||d,a=null);d.filter=
a;var c=void 0;!1!==d.mult?function(){var a=d.result=[];C(e.data)?c=function(b){return a.push(b)}:c=function(b,c){return a.push(c)}}():(d.result=null,c=function(a,b){return d.result=e.data instanceof Map?{value:b}:C(e.data)?{value:a}:b});var f=u(this.forEach(c,d));return f!==this?f:d.result};t.prototype.includes=function(a,b,e){var d=u(e||{});w(b)||v(b)||(d=b||d,b=null);d.filter=[Number.isNaN(a)?function(a){return Number.isNaN(a)}:function(b){return b===a}].concat(b||[]);d.mult=!1;d.result=!1;b=u(this.forEach(function(){return d.result=
!0},d));return b!==this?b:d.result};t.prototype.group=function(a,b,e){var d=a||function(a){return a},c=u(e||{});w(b)||v(b)||(c=b||c,b=null);c.filter=b;c.mult=!0;var f=v(d),h=c.result=c.useMap?new ba.Map:{};a=void 0;a=c.useMap?function(a,b){var e=f?d.apply(null,arguments):z(a,d),m=c.saveKeys?b:a;h.has(e)?h.get(e).push(m):h.set(e,[m])}:function(a,b){var e=f?d.apply(null,arguments):z(a,d),m=c.saveKeys?b:a;h[e]?h[e].push(m):h[e]=[m]};f&&(a.__COLLECTION_TMP__length=a.length>d.length?a.length:d.length);
a=u(this.forEach(a,c));return a!==this?a:c.result};t.prototype.remove=function(a,b){var e=u(b||{});if(a instanceof F||!v(a)&&(w(a)&&!v(a[1])||null!=a&&"object"!==typeof a)){var d=z(this.data,a,{delete:!0});e.onComplete&&e.onComplete(d);return d}w(a)||v(a)||(e=a||e,a=null);d=D(this.data,e.use);if({iterator:!0,generator:!0}[d])throw new TypeError("Incorrect data type");var c=!1!==e.mult,f=[],h=[].splice;c&&(e.result=f);var l=void 0;switch(d){case "map":l=function(a,b,d){d.delete(b);a={result:!d.has(b),
key:b,value:a};c?f.push(a):e.result=a};break;case "set":l=function(a,b,d){d.delete(a);a={result:!d.has(a),key:null,value:a};c?f.push(a):e.result=a};break;case "array":e.reverse?l=function(a,b,d){h.call(d,b,1);a={result:d[b]!==a,key:b,value:a};c?f.push(a):e.result=a}:function(){var a=0;l=e.live?function(b,d,q,y){h.call(q,d,1);y.i(-1);b={result:q[d]!==b,key:d+a,value:b};c?f.push(b):e.result=b;a++}:function(b,d,q,y){function r(r){if(a===r)return!1;h.call(q,d,1);y.i(-1);r={result:q[d]!==b,key:d+a,value:b};
c?f.push(r):e.result=r;a++}var l=y.length();"number"===typeof l?r(l):y.wait(l).then(r)}}();break;default:l=function(a,b,d){delete d[b];a={result:!1===b in d,key:b,value:a};c?f.push(a):e.result=a}}e.filter=a;d=u(this.forEach(l,e));return d!==this?d:e.result};t.prototype.set=function(a,b,e){var d=u(e||{}),c=this.data;if(b instanceof F||!v(b)&&(w(b)&&!v(b[1])||null!=b&&"object"!==typeof b))return b=z(c,b,{value:a,create:!1!==d.create,error:!0}),d.onComplete&&d.onComplete(b),b;w(b)||v(b)||(d=b||d,b=null);
e=D(c,d.use);var f=v(a),h=!1!==d.mult,l=[];h&&(d.result=l);var g=void 0;if(f){switch(e){case "map":g=function(b,c,e){var f=a.apply(null,arguments),g=void 0===f;void 0!==f&&e.get(c)!==f&&(e.set(c,f),g=e.get(c)===f);f={key:c,value:b,result:g};h?l.push(f):d.result=f};break;case "set":g=function(b,c,e){var f=a.apply(null,arguments),g=void 0===f;void 0===f||e.has(f)||(e.delete(b),e.add(f),g=e.has(f));f={key:null,value:b,result:g};h?l.push(f):d.result=f};break;default:g=function(b,c,e){var f=a.apply(null,
arguments),g=void 0===f;void 0!==f&&e[c]!==f&&(e[c]=f,g=e[c]===f);f={key:c,value:b,result:g};h?l.push(f):d.result=f}}g.__COLLECTION_TMP__length=g.length>a.length?g.length:a.length}else switch(e){case "map":g=function(b,c,e){var f=!1;e.get(c)!==a&&(e.set(c,a),f=e.get(c)===a);b={key:c,value:b,result:f};h?l.push(b):d.result=b};break;case "set":g=function(b,c,e){c=!1;e.has(a)||(e.delete(b),e.add(a),c=e.has(a));b={key:null,value:b,result:c};h?l.push(b):d.result=b};break;default:g=function(b,c,e){var f=
!1;e[c]!==a&&(e[c]=a,f=e[c]===a);b={key:c,value:b,result:f};h?l.push(b):d.result=b}}var k=d.onIterationEnd;d.filter=b;d.onIterationEnd=function(b){d.result&&d.result.length||!("key"in d)||(null==d.key&&w(c)&&(d.key=c.length),z(c,d.key,{value:f?a(void 0,void 0,c,b):a,create:!1!==d.create}));k&&k(b)};b=u(this.forEach(g,d));return b!==this?b:d.result};var La=[[0,40],[41,160],[161,500],[501,2E3]];t.prototype._priority=A;var G={},H={},K;for(K in A){if(!A.hasOwnProperty(K))break;G[K]=0;H[K]=[]}var L=0;
t.prototype.g=function(a,b,e,d){function c(){n(Ka()).forEach(function(a,b){var c=H[b];n(a).forEach(function(a,b,d){var f=c[a];if(f.next().done){if(c.splice(a,1),n(d).forEach(function(a,b){a&&d[b]--},{startIndex:b+1}),L--,f.onComplete&&f.onComplete!==e)f.onComplete(f.ctx.result)}else if(f.onChunk)f.onChunk(f.ctx)})});L&&setTimeout(c,40)}a.thread=!0;a.priority=b;a.destroy=function(){return n.destroy(a)};a.onComplete=e;a.onChunk=d;a.pause=!1;a.sleep=null;a.children=[];var f=a.next;Object.defineProperty(a,
"next",{value:function(){null!==a.sleep&&(clearTimeout(a.sleep),a.sleep=null);return f.apply(this,arguments)}});L++;H[b].push(a);1===L&&("function"===typeof setImmediate?setImmediate(c):setTimeout(c,0))};n.destroy=function(a){if(!a||!a.thread)return!1;var b=a.thread;clearTimeout(b.sleep);n(b.children).forEach(function(a){return n.destroy(a)});n(H[b.priority]).remove(function(a){return a===b},{mult:!1});return!0};Object.assign(n,{destroy:n.destroy});return n}
"object"===typeof exports&&"undefined"!==typeof module?module.exports=M():"function"===typeof define&&define.amd?define("Collection",M):this.$C=M();
}).call(this);
